{"ast":null,"code":"import _objectSpread from \"/home/roshi/Downloads/react-16.x-full-training-2020-master/Day 3.2 Flicker App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/home/roshi/Downloads/react-16.x-full-training-2020-master/Day 3.2 Flicker App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/roshi/Downloads/react-16.x-full-training-2020-master/Day 3.2 Flicker App/src/app.js\";\n\nimport React, { useEffect, useState } from 'react';\nimport { searchForAssest } from './services/search-service';\nimport Search from './components/search/search';\nimport Photos from './components/photos/photos';\nimport Videos from './components/videos/videos';\nimport './app.scss';\n\nvar App = function App() {\n  var _useState = useState({\n    loading: true,\n    searchValue: 'car',\n    engine: 'flicker',\n    photos: []\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      appState = _useState2[0],\n      setAppState = _useState2[1];\n\n  useEffect(function () {\n    search();\n  }, [appState.engine]);\n\n  var searchTermChanged = function searchTermChanged(e) {\n    setAppState(_objectSpread({}, appState, {\n      searchValue: e.target.value\n    }));\n  };\n\n  var searchEngineChanged = function searchEngineChanged(e) {\n    var value = e.target.value;\n    setAppState(_objectSpread({}, appState, {\n      engine: value\n    }));\n  };\n\n  var search = function search() {\n    setAppState(_objectSpread({}, appState, {\n      loading: true,\n      photos: []\n    }));\n    searchForAssest(appState.searchValue, appState.engine).then(function (photos) {\n      setAppState(_objectSpread({}, appState, {\n        loading: false,\n        photos: photos\n      }));\n    }).catch(function (err) {\n      setAppState(_objectSpread({}, appState, {\n        loading: false,\n        photos: []\n      }));\n    });\n  };\n\n  var onImageClick = function onImageClick(e) {\n    //todo\n    console.log('onImageClick: ', e.target.id);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Search, {\n    search: search,\n    engine: appState.engine,\n    engineChanged: searchEngineChanged,\n    searchTermChanged: searchTermChanged,\n    searchValue: appState.searchValue,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, appState.loading && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loading\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 21\n    }\n  }, \"Loading...\"), appState.photos.length === 0 && !appState.loading && /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 21\n    }\n  }, \"Can't find photos for this search term\"), appState.photos.length > 0 && !appState.loading && /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 21\n    }\n  }, appState.engine === 'flicker' && /*#__PURE__*/React.createElement(Photos, {\n    photos: appState.photos,\n    onImageClick: onImageClick,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 29\n    }\n  }), appState.engine === 'giphy' && /*#__PURE__*/React.createElement(Videos, {\n    videos: appState.photos,\n    onVideoClick: onImageClick,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 29\n    }\n  }))));\n};\n\nexport default App;","map":{"version":3,"sources":["/home/roshi/Downloads/react-16.x-full-training-2020-master/Day 3.2 Flicker App/src/app.js"],"names":["React","useEffect","useState","searchForAssest","Search","Photos","Videos","App","loading","searchValue","engine","photos","appState","setAppState","search","searchTermChanged","e","target","value","searchEngineChanged","then","catch","err","onImageClick","console","log","id","length"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { searchForAssest } from './services/search-service';\nimport Search from './components/search/search';\nimport Photos from './components/photos/photos';\nimport Videos from './components/videos/videos';\nimport './app.scss';\n\nconst App = () => {\n    const [appState, setAppState] = useState({\n        loading: true,\n        searchValue: 'car',\n        engine: 'flicker',\n        photos: []\n    })\n    useEffect(() => {\n        search();\n    }, [appState.engine])\n\n    const searchTermChanged = (e) => {\n        setAppState({ ...appState, searchValue: e.target.value });\n    }\n\n    const searchEngineChanged = (e) => {\n        const value = e.target.value;\n        setAppState({ ...appState, engine: value });\n    }\n\n    const search = () => {\n        setAppState({ ...appState, loading: true, photos: [] });\n        searchForAssest(appState.searchValue, appState.engine)\n            .then(photos => {\n                setAppState({ ...appState, loading: false, photos: photos });\n            })\n            .catch(err => {\n                setAppState({ ...appState, loading: false, photos: [] });\n            });\n    }\n    const onImageClick = (e) => {\n        //todo\n        console.log('onImageClick: ', e.target.id);\n    }\n    return (\n        <div className=\"App\">\n            <Search\n                search={search}\n                engine={appState.engine}\n                engineChanged={searchEngineChanged}\n                searchTermChanged={searchTermChanged}\n                searchValue={appState.searchValue}\n            />\n\n            <div>\n                {appState.loading && (\n                    <div className=\"loading\">Loading...</div>\n                )}\n\n                {appState.photos.length === 0 && !appState.loading && (\n                    <div>Can't find photos for this search term</div>\n                )}\n\n                {appState.photos.length > 0 && !appState.loading && (\n                    <React.Fragment>\n                        {appState.engine === 'flicker' && (\n                            <Photos\n                                photos={appState.photos}\n                                onImageClick={onImageClick}\n                            />\n                        )}\n                        {appState.engine === 'giphy' && (\n                            <Videos\n                                videos={appState.photos}\n                                onVideoClick={onImageClick}\n                            />\n                        )}\n                    </React.Fragment>\n                )}\n\n            </div>\n        </div>\n    );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}