{"ast":null,"code":"var apiKey = 'e38f1bc56d9486ca37e84667b7a98ba8';\nvar flickerApi = 'https://api.flickr.com/services/rest';\n\nvar format = function format(img) {\n  return {\n    id: img['id'],\n    url: \"//farm\".concat(img.farm, \".staticflickr.com/\").concat(img.server, \"/\").concat(img.id, \"_\").concat(img.secret, \".jpg\")\n  };\n};\n\nexport var flickerSearch = function flickerSearch(term) {\n  var apiUrl = flickerApi + \"?method=flickr.photos.search&sort=relevance&format=json&nojsoncallback=1&\" + \"api_key=\".concat(apiKey, \"&text=\").concat(term);\n  return fetch(apiUrl).then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    return data.photos.photo.map(function (img) {\n      return format(img);\n    });\n  }).catch(function (err) {\n    console.log('error: ', err);\n    return err;\n  });\n};","map":{"version":3,"sources":["/home/roshi/Downloads/react-16.x-full-training-2020-master/Day 3.2 Flicker App/src/services/flicker-service.js"],"names":["apiKey","flickerApi","format","img","id","url","farm","server","secret","flickerSearch","term","apiUrl","fetch","then","res","json","data","photos","photo","map","catch","err","console","log"],"mappings":"AAAA,IAAMA,MAAM,GAAG,kCAAf;AACA,IAAMC,UAAU,GAAG,sCAAnB;;AAEA,IAAMC,MAAM,GAAG,SAATA,MAAS,CAACC,GAAD,EAAS;AACpB,SAAO;AACHC,IAAAA,EAAE,EAAED,GAAG,CAAC,IAAD,CADJ;AAEHE,IAAAA,GAAG,kBAAWF,GAAG,CAACG,IAAf,+BAAwCH,GAAG,CAACI,MAA5C,cAAsDJ,GAAG,CAACC,EAA1D,cAAgED,GAAG,CAACK,MAApE;AAFA,GAAP;AAIH,CALD;;AAOA,OAAO,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,IAAD,EAAU;AAEnC,MAAMC,MAAM,GAAGV,UAAU,8EAAV,qBAEED,MAFF,mBAEiBU,IAFjB,CAAf;AAIA,SAAOE,KAAK,CAACD,MAAD,CAAL,CACFE,IADE,CACG,UAAAC,GAAG;AAAA,WAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,GADN,EAEFF,IAFE,CAEG,UAAAG,IAAI,EAAI;AACV,WAAOA,IAAI,CAACC,MAAL,CAAYC,KAAZ,CAAkBC,GAAlB,CAAsB,UAAChB,GAAD;AAAA,aAASD,MAAM,CAACC,GAAD,CAAf;AAAA,KAAtB,CAAP;AACH,GAJE,EAKFiB,KALE,CAKI,UAACC,GAAD,EAAS;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBF,GAAvB;AACA,WAAOA,GAAP;AACH,GARE,CAAP;AASH,CAfM","sourcesContent":["const apiKey = 'e38f1bc56d9486ca37e84667b7a98ba8';\nconst flickerApi = 'https://api.flickr.com/services/rest';\n\nconst format = (img) => {\n    return {\n        id: img['id'],\n        url: `//farm${img.farm}.staticflickr.com/${img.server}/${img.id}_${img.secret}.jpg`\n    }\n};\n\nexport const flickerSearch = (term) => {\n\n    const apiUrl = flickerApi\n        + `?method=flickr.photos.search&sort=relevance&format=json&nojsoncallback=1&`\n        + `api_key=${apiKey}&text=${term}`;\n\n    return fetch(apiUrl)\n        .then(res => res.json())\n        .then(data => {\n            return data.photos.photo.map((img) => format(img));\n        })\n        .catch((err) => {\n            console.log('error: ', err);\n            return err;\n        });\n};\n"]},"metadata":{},"sourceType":"module"}