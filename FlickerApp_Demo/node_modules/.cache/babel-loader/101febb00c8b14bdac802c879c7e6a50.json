{"ast":null,"code":"import _classCallCheck from \"/home/roshi/Downloads/react-16.x-full-training-2020-master/Day 3.2 Flicker App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/roshi/Downloads/react-16.x-full-training-2020-master/Day 3.2 Flicker App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/roshi/Downloads/react-16.x-full-training-2020-master/Day 3.2 Flicker App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/roshi/Downloads/react-16.x-full-training-2020-master/Day 3.2 Flicker App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/roshi/Downloads/react-16.x-full-training-2020-master/Day 3.2 Flicker App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/roshi/Downloads/react-16.x-full-training-2020-master/Day 3.2 Flicker App/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/roshi/Downloads/react-16.x-full-training-2020-master/Day 3.2 Flicker App/src/components/photos/photo.js\";\nimport React from 'react';\nimport Observer from 'react-intersection-observer';\nimport './photo.scss';\n\nvar Photo = /*#__PURE__*/function (_React$Component) {\n  _inherits(Photo, _React$Component);\n\n  function Photo(props) {\n    var _this;\n\n    _classCallCheck(this, Photo);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Photo).call(this, props));\n    _this.placeholderUrl = '//via.placeholder.com/350x350?text=loading';\n    _this.state = {\n      visibility: false\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Photo, [{\n    key: \"handleChange\",\n    value: function handleChange(visible) {\n      //replace placeholder with image when image enter viewport (with 100px margin)\n      if (visible) {\n        this.setState({\n          visibility: visible\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          photo = _this$props.photo,\n          onImageClick = _this$props.onImageClick;\n      return /*#__PURE__*/React.createElement(\"article\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Observer, {\n        onChange: this.handleChange,\n        rootMargin: \"100px 100px 100px 100px\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        href: \"#\",\n        onClick: onImageClick,\n        className: \"photos-grid__link\",\n        id: photo.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 21\n        }\n      }, this.state.visibility && /*#__PURE__*/React.createElement(\"figure\", {\n        className: \"absolute-bg\",\n        style: {\n          backgroundImage: \"url(\".concat(photo.url, \")\")\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 29\n        }\n      }), !this.state.visibility && /*#__PURE__*/React.createElement(\"figure\", {\n        className: \"absolute-bg\",\n        style: {\n          backgroundImage: \"url(\".concat(this.placeholderUrl, \")\")\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 29\n        }\n      }))));\n    }\n  }]);\n\n  return Photo;\n}(React.Component);\n\nexport { Photo as default };","map":{"version":3,"sources":["/home/roshi/Downloads/react-16.x-full-training-2020-master/Day 3.2 Flicker App/src/components/photos/photo.js"],"names":["React","Observer","Photo","props","placeholderUrl","state","visibility","handleChange","bind","visible","setState","photo","onImageClick","id","backgroundImage","url","Component"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,6BAArB;AACA,OAAO,cAAP;;IAEqBC,K;;;AACjB,iBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,+EAAMA,KAAN;AACA,UAAKC,cAAL,GAAsB,4CAAtB;AACA,UAAKC,KAAL,GAAa;AACTC,MAAAA,UAAU,EAAE;AADH,KAAb;AAGA,UAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBC,IAAlB,uDAApB;AANe;AAOlB;;;;iCAEYC,O,EAAS;AAClB;AACA,UAAIA,OAAJ,EAAa;AACT,aAAKC,QAAL,CAAc;AAAEJ,UAAAA,UAAU,EAAEG;AAAd,SAAd;AACH;AACJ;;;6BAEQ;AAAA,wBAC2B,KAAKN,KADhC;AAAA,UACGQ,KADH,eACGA,KADH;AAAA,UACUC,YADV,eACUA,YADV;AAEL,0BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,QAAD;AAAU,QAAA,QAAQ,EAAE,KAAKL,YAAzB;AAAuC,QAAA,UAAU,EAAC,yBAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AACI,QAAA,IAAI,EAAC,GADT;AAEI,QAAA,OAAO,EAAEK,YAFb;AAGI,QAAA,SAAS,EAAC,mBAHd;AAII,QAAA,EAAE,EAAED,KAAK,CAACE,EAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAMK,KAAKR,KAAL,CAAWC,UAAX,iBACG;AACI,QAAA,SAAS,EAAC,aADd;AAEI,QAAA,KAAK,EAAE;AACHQ,UAAAA,eAAe,gBAASH,KAAK,CAACI,GAAf;AADZ,SAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAPR,EAcK,CAAC,KAAKV,KAAL,CAAWC,UAAZ,iBACG;AACI,QAAA,SAAS,EAAC,aADd;AAEI,QAAA,KAAK,EAAE;AAAEQ,UAAAA,eAAe,gBAAS,KAAKV,cAAd;AAAjB,SAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAfR,CADJ,CADJ,CADJ;AA6BH;;;;EAhD8BJ,KAAK,CAACgB,S;;SAApBd,K","sourcesContent":["import React from 'react';\nimport Observer from 'react-intersection-observer';\nimport './photo.scss';\n\nexport default class Photo extends React.Component {\n    constructor(props) {\n        super(props);\n        this.placeholderUrl = '//via.placeholder.com/350x350?text=loading';\n        this.state = {\n            visibility: false\n        };\n        this.handleChange = this.handleChange.bind(this);\n    }\n\n    handleChange(visible) {\n        //replace placeholder with image when image enter viewport (with 100px margin)\n        if (visible) {\n            this.setState({ visibility: visible });\n        }\n    }\n\n    render() {\n        const { photo, onImageClick } = this.props;\n        return (\n            <article>\n                <Observer onChange={this.handleChange} rootMargin=\"100px 100px 100px 100px\">\n                    <a\n                        href=\"#\"\n                        onClick={onImageClick}\n                        className=\"photos-grid__link\"\n                        id={photo.id}\n                    >\n                        {this.state.visibility && (\n                            <figure\n                                className=\"absolute-bg\"\n                                style={{\n                                    backgroundImage: `url(${photo.url})`\n                                }}\n                            />\n                        )}\n                        {!this.state.visibility && (\n                            <figure\n                                className=\"absolute-bg\"\n                                style={{ backgroundImage: `url(${this.placeholderUrl})` }}\n                            />\n                        )}\n                    </a>\n                </Observer>\n\n            </article>\n\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}